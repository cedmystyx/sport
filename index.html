<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Data City Matrix - Effet Vidéo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
  <style>
    body, html {
      margin: 0; padding: 0; overflow: hidden;
      background: black;
      height: 100vh;
      width: 100vw;
    }
  </style>
</head>
<body>

<a-scene fog="type: linear; color: black; near: 0; far: 100" embedded>

  <a-entity id="cameraRig" position="0 2 0" animation="property: position; to: 0 2 -200; dur: 60000; easing: linear; loop: true">
    <a-entity camera look-controls wasd-controls></a-entity>
  </a-entity>

  <a-entity id="buildings"></a-entity>
  <a-entity id="binaryRain"></a-entity>

</a-scene>

<script>
  const scene = document.querySelector('a-scene');
  const buildingsContainer = document.getElementById('buildings');
  const rainContainer = document.getElementById('binaryRain');

  // Générer les bâtiments wireframe verts
  function createBuildings(){
    buildingsContainer.innerHTML = '';
    const buildingCount = 80;
    for(let i=0; i < buildingCount; i++){
      const building = document.createElement('a-box');
      const height = Math.random() * 20 + 5;
      building.setAttribute('width', 2);
      building.setAttribute('height', height);
      building.setAttribute('depth', 2);
      building.setAttribute('position', `${i % 2 === 0 ? -5 : 5} ${height/2} ${-i * 4}`);
      building.setAttribute('material', 'wireframe:true; color:#00ff00; opacity:0.12');
      buildingsContainer.appendChild(building);
    }
  }

  // Générer la pluie binaire 3D (0 & 1 tombant)
  function createBinaryRain(){
    rainContainer.innerHTML = '';
    const rainCount = 500;
    for(let i=0; i < rainCount; i++){
      const text = document.createElement('a-text');
      text.setAttribute('value', Math.random() > 0.5 ? '0' : '1');
      text.setAttribute('color', '#00ff00');
      text.setAttribute('opacity', '0.4');
      const x = (Math.random() - 0.5) * 20;
      const y = Math.random() * 15 + 5;
      const z = -Math.random() * 200;
      text.setAttribute('position', `${x} ${y} ${z}`);
      text.setAttribute('animation', `property: position; to: ${x} -10 ${z - 200}; dur: 8000; loop: true; easing: linear`);
      rainContainer.appendChild(text);
    }
  }

  createBuildings();
  createBinaryRain();

</script>

</body>
</html>

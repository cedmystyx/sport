<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Section Sportive - Lycée Louis de Cormontaigne</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/aframe-extras@6.1.1/dist/aframe-extras.min.js"></script>
  <style>
    html, body { margin: 0; height: 100%; overflow: hidden; font-family: sans-serif; }
    #startScreen {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background: linear-gradient(to bottom right, #004080, #00aaff);
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      color: white; text-align: center; z-index: 10;
    }
    #startButton {
      margin-top: 20px; padding: 12px 24px; font-size: 1.2em; background: #00aaff;
      border: none; border-radius: 8px; cursor: pointer;
    }
    #menu {
      position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
      background: rgba(0,0,0,0.6); padding: 10px 20px; border-radius: 10px;
      display: flex; gap: 10px; z-index: 5;
    }
    #menu button {
      padding: 10px 15px; font-size: 1em; border: none; border-radius: 6px;
      background: #007acc; color: white; cursor: pointer;
    }
  </style>
</head>
<body>
<div id="startScreen">
  <h1>Section Sportive - Lycée Louis de Cormontaigne</h1>
  <p>Découvrez les sports en réalité virtuelle !</p>
  <button id="startButton">Entrer</button>
</div>
<div id="menu" style="display:none">
  <button onclick="teleportTo('foot')">Football</button>
  <button onclick="teleportTo('basket')">Basketball</button>
  <button onclick="teleportTo('hand')">Handball</button>
  <button onclick="teleportTo('athle')">Athlétisme</button>
</div>
<a-scene id="scene" background="color: #e0f7fa" shadow="type: pcfsoft" embedded style="display:none">
  <a-assets>
    <!-- Modèles 3D stylisés et optimisés -->
    <a-asset-item id="footPlayer" src="https://cdn.jsdelivr.net/gh/KhronosGroup/glTF-Sample-Models@master/2.0/CesiumMan/glTF/CesiumMan.gltf"></a-asset-item>
    <a-asset-item id="basketPlayer" src="https://cdn.jsdelivr.net/gh/KhronosGroup/glTF-Sample-Models@master/2.0/Fox/glTF/Fox.gltf"></a-asset-item>
    <a-asset-item id="athlePlayer" src="https://cdn.jsdelivr.net/gh/KhronosGroup/glTF-Sample-Models@master/2.0/AnimatedMorphSphere/glTF/AnimatedMorphSphere.gltf"></a-asset-item>
    <a-asset-item id="handPlayer" src="https://cdn.jsdelivr.net/gh/KhronosGroup/glTF-Sample-Models@master/2.0/Monster/glTF/Monster.gltf"></a-asset-item>
  </a-assets>

  <!-- Caméra -->
  <a-entity id="cameraRig" position="0 1.6 10">
    <a-entity camera look-controls wasd-controls></a-entity>
  </a-entity>

  <!-- Lumière -->
  <a-light type="ambient" color="#888"></a-light>
  <a-light type="directional" position="1 3 2" intensity="1.2" castShadow="true"></a-light>

  <!-- Sol -->
  <a-plane rotation="-90 0 0" width="100" height="100" color="#a2d5a2" shadow="receive: true"></a-plane>

  <!-- Terrain FOOTBALL -->
  <a-entity id="foot" position="-15 0 -10">
    <a-text value="Football" position="0 3 0" align="center" color="#005500"></a-text>
    <a-box color="#ffffff" width="6" height="0.1" depth="10" position="0 0 0"></a-box>
    <a-sphere position="0 0.25 0" radius="0.25" color="#ffffff" segments-height="6"></a-sphere>
    <a-entity gltf-model="#footPlayer" scale="1.2 1.2 1.2" position="-1 0 1" animation-mixer></a-entity>
  </a-entity>

  <!-- Terrain BASKET -->
  <a-entity id="basket" position="15 0 -10">
    <a-text value="Basketball" position="0 3 0" align="center" color="#aa4400"></a-text>
    <a-box color="#ffcc80" width="5" height="0.1" depth="8" position="0 0 0"></a-box>
    <a-sphere position="0 0.25 0" radius="0.24" color="#e67e22"></a-sphere>
    <a-entity gltf-model="#basketPlayer" scale="0.03 0.03 0.03" position="-1 0 1" animation-mixer></a-entity>
  </a-entity>

  <!-- Terrain HANDBALL -->
  <a-entity id="hand" position="-15 0 10">
    <a-text value="Handball" position="0 3 0" align="center" color="#660033"></a-text>
    <a-box color="#ff99cc" width="4" height="0.1" depth="6" position="0 0 0"></a-box>
    <a-sphere position="0 0.2 0" radius="0.2" color="#cc3366"></a-sphere>
    <a-entity gltf-model="#handPlayer" scale="0.6 0.6 0.6" position="-1 0 1" animation-mixer></a-entity>
  </a-entity>

  <!-- Terrain ATHLETISME -->
  <a-entity id="athle" position="15 0 10">
    <a-text value="Athlétisme" position="0 3 0" align="center" color="#003366"></a-text>
    <a-box color="#ccccff" width="8" height="0.1" depth="2" position="0 0 0"></a-box>
    <a-entity gltf-model="#athlePlayer" scale="1.5 1.5 1.5" position="-1 0 1" animation-mixer></a-entity>
  </a-entity>

  <!-- Public immobile -->
  <a-entity geometry="primitive: box" position="0 0 -20" scale="20 2 1" material="color: #444" shadow></a-entity>
</a-scene>

<script>
  const startBtn = document.getElementById('startButton');
  const startScreen = document.getElementById('startScreen');
  const scene = document.getElementById('scene');
  const menu = document.getElementById('menu');
  const cameraRig = document.getElementById('cameraRig');

  startBtn.addEventListener('click', () => {
    startScreen.style.display = 'none';
    scene.style.display = 'block';
    menu.style.display = 'flex';
  });

  function teleportTo(zoneId) {
    const target = document.getElementById(zoneId);
    if (!target) return;
    const pos = target.getAttribute('position');
    cameraRig.setAttribute('position', { x: pos.x, y: 1.6, z: pos.z + 6 });
  }
</script>
</body>
</html>

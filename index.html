<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Section Sportive - Lycée Cormontaigne Metz</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <style>
      body {
        margin: 0;
        overflow: hidden;
        background: black;
      }
      #loading {
        position: absolute;
        width: 100%;
        height: 100%;
        background: black;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5em;
        z-index: 10;
      }
    </style>
  </head>
  <body>
    <div id="loading">Chargement de l'expérience VR...</div>

    <a-scene loading-screen="enabled: false" vr-mode-ui="enabled: true" embedded>

      <!-- Sol et ciel -->
      <a-plane rotation="-90 0 0" width="50" height="50" color="#7BC8A4"></a-plane>
      <a-sky color="#87CEEB"></a-sky>

      <!-- Lumière -->
      <a-entity light="type: directional; intensity: 0.8;" position="0 5 2"></a-entity>

      <!-- Texte d'accueil -->
      <a-entity position="0 3 -6" 
                text="value: Bienvenue à la section sportive du lycée Louis de Cormontaigne à Metz !; 
                      align: center; width: 8; color: #FFFFFF;">
      </a-entity>

      <!-- Ballon de football -->
      <a-sphere position="-5 0.3 -4" radius="0.3" color="black"
        animation="property: position; to: -3 0.3 -4; dir: alternate; dur: 3000; easing: linear; loop: true">
      </a-sphere>
      <a-entity position="-5 1.5 -4"
                text="value: Football; align: center; width: 4; color: #000;">
      </a-entity>

      <!-- Ballon de handball -->
      <a-sphere position="0 0.3 -4" radius="0.25" color="orange"
        animation="property: position; to: 0 1.2 -4; dir: alternate; dur: 1200; easing: easeInOutSine; loop: true">
      </a-sphere>
      <a-entity position="0 1.8 -4"
                text="value: Handball; align: center; width: 4; color: #000;">
      </a-entity>

      <!-- Cône pour l'athlétisme -->
      <a-cone position="5 0.5 -4" radius-bottom="0.3" radius-top="0.05" height="0.8" color="#ff6600"
        animation="property: rotation; to: 0 0 20; dir: alternate; dur: 1500; easing: easeInOutSine; loop: true">
      </a-cone>
      <a-entity position="5 1.8 -4"
                text="value: Athlétisme; align: center; width: 4; color: #000;">
      </a-entity>

      <!-- Personnages animés stylisés -->

      <!-- Élève footballeur -->
      <a-entity position="-4 0 -4" rotation="0 45 0" id="footPlayer">
        <!-- Corps -->
        <a-box position="0 1 0" depth="0.4" height="1.2" width="0.6" color="#1565C0"
          animation="property: rotation; dir: alternate; dur: 1200; easing: easeInOutSine; loop: true; to: 0 10 0">
        </a-box>
        <!-- Tête -->
        <a-sphere position="0 1.9 0" radius="0.3" color="#ffcc99"></a-sphere>
        <!-- Bras gauche -->
        <a-box position="-0.55 1.3 0" depth="0.2" height="0.8" width="0.2" color="#1565C0"
          animation="property: rotation; dir: alternate; dur: 1200; easing: easeInOutSine; loop: true; to: 20 0 0">
        </a-box>
        <!-- Bras droit -->
        <a-box position="0.55 1.3 0" depth="0.2" height="0.8" width="0.2" color="#1565C0"
          animation="property: rotation; dir: alternate; dur: 1200; easing: easeInOutSine; loop: true; to: -20 0 0">
        </a-box>
        <!-- Jambes (oscillent pour marcher) -->
        <a-box position="-0.2 0.4 0" depth="0.2" height="0.8" width="0.3" color="#0D47A1"
          animation="property: rotation; dir: alternate; dur: 1200; easing: easeInOutSine; loop: true; to: 20 0 0">
        </a-box>
        <a-box position="0.2 0.4 0" depth="0.2" height="0.8" width="0.3" color="#0D47A1"
          animation="property: rotation; dir: alternate; dur: 1200; easing: easeInOutSine; loop: true; to: -20 0 0">
        </a-box>
      </a-entity>

      <!-- Élève handballeur -->
      <a-entity position="1 0 -4" rotation="0 -45 0" id="handPlayer">
        <!-- Corps -->
        <a-box position="0 1 0" depth="0.4" height="1.2" width="0.6" color="#EF6C00"
          animation="property: rotation; dir: alternate; dur: 900; easing: easeInOutSine; loop: true; to: 0 -10 0">
        </a-box>
        <!-- Tête -->
        <a-sphere position="0 1.9 0" radius="0.3" color="#ffcc99"></a-sphere>
        <!-- Bras gauche -->
        <a-box position="-0.55 1.3 0" depth="0.2" height="0.8" width="0.2" color="#EF6C00"
          animation="property: rotation; dir: alternate; dur: 900; easing: easeInOutSine; loop: true; to: -25 0 0">
        </a-box>
        <!-- Bras droit -->
        <a-box position="0.55 1.3 0" depth="0.2" height="0.8" width="0.2" color="#EF6C00"
          animation="property: rotation; dir: alternate; dur: 900; easing: easeInOutSine; loop: true; to: 25 0 0">
        </a-box>
        <!-- Jambes (oscillent) -->
        <a-box position="-0.2 0.4 0" depth="0.2" height="0.8" width="0.3" color="#E65100"
          animation="property: rotation; dir: alternate; dur: 900; easing: easeInOutSine; loop: true; to: -20 0 0">
        </a-box>
        <a-box position="0.2 0.4 0" depth="0.2" height="0.8" width="0.3" color="#E65100"
          animation="property: rotation; dir: alternate; dur: 900; easing: easeInOutSine; loop: true; to: 20 0 0">
        </a-box>
      </a-entity>

      <!-- Prof de sport -->
      <a-entity position="4 0 -4" rotation="0 20 0" id="prof">
        <!-- Corps -->
        <a-box position="0 1 0" depth="0.5" height="1.5" width="0.7" color="#4CAF50"
          animation="property: rotation; dir: alternate; dur: 1800; easing: easeInOutSine; loop: true; to: 0 15 0">
        </a-box>
        <!-- Tête -->
        <a-sphere position="0 2.2 0" radius="0.35" color="#ffe0b2"></a-sphere>
        <!-- Bras gauche -->
        <a-box position="-0.65 1.5 0" depth="0.3" height="1" width="0.3" color="#4CAF50"
          animation="property: rotation; dir: alternate; dur: 1800; easing: easeInOutSine; loop: true; to: 30 0 0">
        </a-box>
        <!-- Bras droit -->
        <a-box position="0.65 1.5 0" depth="0.3" height="1" width="0.3" color="#4CAF50"
          animation="property: rotation; dir: alternate; dur: 1800; easing: easeInOutSine; loop: true; to: -30 0 0">
        </a-box>
        <!-- Jambes (oscillent doucement) -->
        <a-box position="-0.25 0.5 0" depth="0.3" height="1" width="0.35" color="#388E3C"
          animation="property: rotation; dir: alternate; dur: 1800; easing: easeInOutSine; loop: true; to: 10 0 0">
        </a-box>
        <a-box position="0.25 0.5 0" depth="0.3" height="1" width="0.35" color="#388E3C"
          animation="property: rotation; dir: alternate; dur: 1800; easing: easeInOutSine; loop: true; to: -10 0 0">
        </a-box>
      </a-entity>

      <!-- Caméra + curseur pour VR -->
      <a-entity camera position="0 1.6 7" look-controls wasd-controls>
        <a-entity cursor="fuse: true; fuseTimeout: 1000"
                  position="0 0 -1"
                  geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
                  material="color: white; shader: flat">
        </a-entity>
      </a-entity>

    </a-scene>

    <script>
      window.addEventListener('load', () => {
        document.getElementById('loading').style.display = 'none';
      });
    </script>
  </body>
</html>
